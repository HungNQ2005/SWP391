<!DOCTYPE html>
<html lang="vi">
   <head>
    <meta charset="UTF-8" />
    <title>${movie.title}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/Header.css" />
    <link rel="stylesheet" href="css/MovieWatching.css" />
  </head>
  <body>
    <!-- Header -->
    <div id="header-placeholder"></div>

    <!-- Khung xem phim -->
    <div class="watching-section">
      <div class="container">
        <div class="watching-frame">
          <video id="player" src="Images/0606 (1).mp4"></video>

          <div class="overlay">
            <button class="center-play">üíñ‚ñ∂Ô∏èüíñ</button>
          </div>

          <div class="controls">
            <button class="play-pause">‚ñ∂Ô∏è</button>
            <input type="range" class="progress" value="0" max="100" />

            <div class="right-controls">
              <button class="volume">üîä</button>
              <button class="fullscreen">‚õ∂</button>
            </div>
          </div>
        </div>

        <!-- Qu·∫£ng c√°o -->
        <div class="overlay-ad">
          <p>QC: Banner 30s</p>
        </div>
      </div>

      <!-- Ti√™u ƒë·ªÅ phim -->
      <div class="Movie-inf">
        <div class="Movie-Title">
          <h1>${movie.title} Anh Tri·∫øt ƒê·∫•m Nhau C·ª±c CƒÉng</h1>
          <p>${movie.original}Triet-san punching hard</p>
        </div>
      </div>
    </div>

    <!-- Th√¥ng tin v·ªÅ phim -->
    <div class="container">
      <div class="Movie-Poster">
        <img src="Images/Banner.jpg" alt="Poster phim" />
        <!-- ${movie.poster} -->
      </div>

      <div class="Movie-des">
        <!-- ${movie.des} -->
        <p>
          Trong m·ªôt th√†nh ph·ªë t∆∞·ªüng nh∆∞ b√¨nh y√™n, Tri·∫øt ‚Äì m·ªôt ch√†ng trai tr·∫ßm
          t√≠nh, s·ªëng l·∫∑ng l·∫Ω v·ªõi c√¥ng vi·ªác th∆∞·ªùng ng√†y ‚Äì b·∫•t ng·ªù b·ªã cu·ªën v√†o m·ªôt
          chu·ªói xung ƒë·ªôt kh√¥ng th·ªÉ tr√°nh. M·ªôt hi·ªÉu l·∫ßm nh·ªè, m·ªôt c√∫ va ch·∫°m t∆∞·ªüng
          ch·ª´ng v√¥ h·∫°i, l·∫°i m·ªü ra tr·∫≠n chi·∫øn c·ªßa danh d·ª±, l√≤ng t·ª± tr·ªçng v√† c√¥ng
          l√Ω ƒë∆∞·ªùng ph·ªë. Khi ni·ªÅm tin b·ªã th·ª≠ th√°ch v√† gi·ªõi h·∫°n b·ªã ƒë·∫©y ƒë·∫øn c·ª±c
          ƒëi·ªÉm, Tri·∫øt bu·ªôc ph·∫£i ƒë·ª©ng l√™n, ƒë·ªëi ƒë·∫ßu v·ªõi nh·ªØng k·∫ª xem th∆∞·ªùng s·ª± im
          l·∫∑ng c·ªßa anh. T·ª´ m·ªôt ng∆∞·ªùi ƒë√†n √¥ng b√¨nh th∆∞·ªùng, Tri·∫øt d·∫ßn tr·ªü th√†nh
          bi·ªÉu t∆∞·ª£ng c·ªßa √Ω ch√≠ v√† s·ª©c m·∫°nh n·ªôi t√¢m, khi m·ªói c√∫ ƒë·∫•m kh√¥ng ch·ªâ l√†
          ƒë·ªÉ chi·∫øn ƒë·∫•u, m√† c√≤n ƒë·ªÉ b·∫£o v·ªá ƒëi·ªÅu anh tin l√† ƒë√∫ng. Phim mang ƒë·∫øn
          nh·ªØng pha h√†nh ƒë·ªông k·ªãch t√≠nh, xen l·∫´n kho·∫£nh kh·∫Øc h√†i h∆∞·ªõc, c·∫£m x√∫c
          v√† c·∫£ ch√∫t ‚Äúv√¥ tri‚Äù r·∫•t ƒë·ªùi th∆∞·ªùng ‚Äî n∆°i c√¥ng l√Ω kh√¥ng ƒë·∫øn t·ª´ t√≤a √°n,
          m√† t·ª´ n·∫Øm ƒë·∫•m v√† tr√°i tim ki√™n ƒë·ªãnh c·ªßa m·ªôt ng∆∞·ªùi ƒë√†n √¥ng mang t√™n
          Tri·∫øt.
        </p>
      </div>
    </div>

    <!-- Danh s√°ch ph√°t -->
    <div class="container">
      <div class="playlist">
        <p class="playlist-title">Danh s√°ch t·∫≠p</p>

        <div class="playlist-grid">
          <!-- D·ªØ li·ªáu tƒ©nh (c√≥ th·ªÉ b·ªè n·∫øu backend render ƒë·ªß) -->
          <div class="playlist-item active">1</div>
          <div class="playlist-item">2</div>
          <div class="playlist-item">3</div>
          <div class="playlist-item">4</div>
          <div class="playlist-item">5</div>
          <div class="playlist-item">6</div>
          <div class="playlist-item">7</div>
          <div class="playlist-item">8</div>
          <div class="playlist-item">9</div>
          <div class="playlist-item">10</div>
          <div class="playlist-item">11</div>
          <div class="playlist-item">12</div>
          <div class="playlist-item">13</div>
          <div class="playlist-item">14</div>

          <c:forEach var="ep" items="${episodes}" varStatus="loop">
            <div class="playlist-item ${loop.first ? 'active' : ''}">
              ${ep.id}
            </div>
          </c:forEach>
        </div>
      </div>
    </div>

    <!--command -->
    <div class="container mt-5">
      <div class="comment-section">
        <h3 class="comment-title">B√¨nh lu·∫≠n</h3>

        <div class="comment-form">
          <textarea
            id="comment-input"
            class="comment-input"
            placeholder="Nh·∫≠p b√¨nh lu·∫≠n c·ªßa b·∫°n..."
          ></textarea>
          <button id="send-comment" class="comment-btn">G·ª≠i</button>
        </div>

        <div class="comment-list">
          <div class="comment-item">
            <div class="comment-user">Tri·∫øt-san</div>
            <div class="comment-text">
              C√∫ ƒë·∫•m ·ªü t·∫≠p 3 cƒÉng thi·ªát, t√¥i xem m√† n·ªïi da g√† üò§üî•
            </div>
            <div class="comment-time">2 gi·ªù tr∆∞·ªõc</div>
          </div>

          <div class="comment-item">
            <div class="comment-user">User123</div>
            <div class="comment-text">
              Ai bi·∫øt t·∫≠p 5 ra ch∆∞a v·∫≠y? Tui h√≥ng qu√° tr·ªùi lu√¥n üò≠
            </div>
            <div class="comment-time">1 gi·ªù tr∆∞·ªõc</div>
          </div>
        </div>
      </div>
      <div class="side-ad">
        <p>QC: Banner 30s</p>
      </div>
    </div>

    <!-- Backend s·∫Ω loop qua d·ªØ li·ªáu comment ·ªü ƒë√¢y -->
    <!-- 
      <c:forEach var="cmt" items="${comments}">
        <div class="comment-item">
          <div class="comment-user">${cmt.userName}</div>
          <div class="comment-text">${cmt.content}</div>
          <div class="comment-time">${cmt.time}</div>
        </div>
      </c:forEach>
      -->

    <div class="container">
      <div class="col-12">
        <div class="Title">
          <h2>Phim T∆∞∆°ng T·ª±</h2>
        </div>
        <div>
          <div class="Tuong-Tu">
            <a href="#"><img src="/Images/Banner1.jpg" alt="Phim 1" /></a>
            <a href="#"><img src="/Images/Banner2.jpg" alt="Phim 2" /></a>
            <a href="#"><img src="/Images/Banner3.jpg" alt="Phim 3" /></a>
            <a href="#"><img src="/Images/Banner1.jpg" alt="Phim 4" /></a>
          </div>
        </div>
      </div>
    </div>

    <script>
      const video = document.getElementById("player");
      const playPause = document.querySelector(".play-pause");
      const progress = document.querySelector(".progress");
      const volume = document.querySelector(".volume");
      const fullscreen = document.querySelector(".fullscreen");
      const overlay = document.querySelector(".overlay");
      const centerPlay = document.querySelector(".center-play");

      centerPlay.addEventListener("click", () => {
        overlay.style.display = "none";
        video.play();
        playPause.textContent = "üçâ";
      });

      playPause.addEventListener("click", () => {
        if (video.paused) {
          video.play();
          playPause.textContent = "üçâ";
        } else {
          video.pause();
          playPause.textContent = "üçì";
        }
      });

      video.addEventListener("timeupdate", () => {
        progress.value = (video.currentTime / video.duration) * 100;
      });

      progress.addEventListener("input", () => {
        video.currentTime = (progress.value / 100) * video.duration;
      });

      volume.addEventListener("click", () => {
        video.muted = !video.muted;
        volume.textContent = video.muted ? "üîá" : "üéß";
      });

      fullscreen.addEventListener("click", () => {
        if (!document.fullscreenElement) {
          video.requestFullscreen();
        } else {
          document.exitFullscreen();
        }
      });
    </script>

    <script>
      fetch("include/Header.html")
        .then((res) => res.text())
        .then((data) => {
          document.getElementById("header-placeholder").innerHTML = data;
        });
    </script>
  </body>
</html>
